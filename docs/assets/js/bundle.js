function M(u){const f={"-1":(r,o)=>h.insertaNuevoP(r,o),1:(r,o)=>h.insertaNuevoP(r,o),3:(r,o)=>h.insertaNuevoP(r,o),4:(r,o)=>h.insertaNuevoP(r,o)};u._listenerAgregado||(u._listenerAgregado=!0,u.addEventListener("keydown",function(r){if(r.key==="Enter"){r.preventDefault();const m=u.querySelectorAll("p"),t=m[m.length-1],c=t.id,a=t.textContent;if(a){const s=a.replace(/^root@Antonio_Segura:~#\s*/,"");if(s!=""){var o=h.lexico(s);if(o.result===2){h.limpiaPantalla(r);return}f[o.result](c,o.token)}else f[-1](c)}}}))}const h=(()=>{const u=["ls","cd","cls","clear","dir","contacto","proyectos","experiencia","habilidades","sobre_mi","--help"],r={cd:[...["contacto","proyectos","experiencia","habilidades","sobre_mi"],".."],1:["ls","cd","cls","clear","dir","--help"],dir:"--help",clear:"--help",cls:"--help",ls:"--help"};function o(e){const n=e.trim().split(/\s+/),d=[];for(let i=0;i<n.length;i++){const p=n[i].replace(/^\.(\/|\\)/,"");if(d.push(p),!u.includes(p))return{result:"-1",token:`'${n[i]}' no es un comando válido`}}return m(d,d.length)}function m(e,n){if(n===1){if(r[n].includes(e[0]))return t(e,n)}else if(n===2){if(r.hasOwnProperty(e[0])&&r[e[0]].includes(e[1]))return t(e,n)}else return{result:"-1",token:"Error de sintaxis"}}function t(e,n){if(n===1&&e[0]==="--help")return a();if(n==2&&e[1]=="--help")return a(e[0]);if(n==1&&e[0]=="cls"||e[0]=="clear")return{result:2,token:""};const i={ls:(p="todos")=>c(),cd:p=>s(),dir:(p="todos")=>c()}[e[0]](n>1?e[1]:"");return{result:i.number,token:i.text}}function c(e){return{number:1,text:""}}function a(e=""){return{number:3,text:""}}function s(e){return g(idP),{number:4,text:""}}function l(e,n=""){let d=g(e);n!==""&&v(d,n)}function P(e){const n=document.getElementById(e),d=document.createRange(),i=window.getSelection();d.selectNodeContents(n),d.collapse(!1),i.removeAllRanges(),i.addRange(d)}function g(e,n="",d="# "){let i="";var p="";let I="afterend";if(n===""){if(p=document.getElementById(e),!p)return;p.classList.remove("prompt");const[C,L]=e.split("-"),x=parseInt(L)+1;i=`${C}-${x}`}else p=n.target,i="comand-0",I="afterbegin";const E=document.createElement("p");return E.className="prompt",E.id=i,E.textContent="root@Antonio_Segura:~"+d,p.insertAdjacentElement(I,E),P(i),i}function v(e,n){const d=document.getElementById(e),i=document.createElement("span");i.textContent=n,d.insertAdjacentElement("beforebegin",i)}function w(e){e.target.innerHTML="",g("",e)}return{lexico:o,insertaNuevoP:l,limpiaPantalla:w}})();window.agregarEventosInput=M;const y=(()=>{const u=["inicio","section","footer","muestra_consola"],f={inicio:"./pages/inicio.html",header:"./pages/header.html",consola:"./pages/consola.html",contacto:"./pages/contacto.html",proyectos:"./pages/proyectos.html",habilidades:"./pages/habilidades.html",sobre_mi:"./pages/sobre_mi.html",experiencia:"./pages/experiencia.html"};function r(o,m="section"){if(!u.includes(m))throw console.error(`El ID '${m}' no está permitido.`),new Error(`El ID '${m}' no está permitido.`);if(!f[o])throw console.error(`El módulo '${o}' no está permitido.`),new Error(`El módulo '${o}' no está permitido.`);fetch(f[o]).then(t=>{if(!t.ok)throw new Error(`Error HTTP: ${t.status}`);return t.text()}).then(t=>{const c=document.getElementById(m);c.innerHTML=t;const a=new CustomEvent("moduloCargado",{detail:{modulo:o,idperm:m}});if(c.dispatchEvent(a),o==="inicio"){const s=document.getElementById("I_AM");s&&(window.innerWidth>=900&&(s.style.height=`${window.innerHeight-54}px`),S())}}).catch(t=>{throw console.error("Error al cargar el módulo:",t),t})}return{cargaModulo:r}})();function S(u="muestra_consola"){y.cargaModulo("consola",u);const f=document.getElementById(u);f.addEventListener("moduloCargado",function(r){if(r.detail.modulo==="consola"&&!f.querySelector(".consola_content")){console.log("consola no cargada ");return}},{once:!0})}const A=(()=>{function u(t){const c=t.currentTarget.querySelectorAll("ul"),s=[".menu ul.menu-Principal",".menu ul.menu-flotante"][c.length-1],l=t.currentTarget.querySelector(s);l&&f(t,l,c.length-1==1)}function f(t,c,a=!1){const s=c.querySelectorAll("li"),l=t.target.closest("li");l&&c.contains(l)?r(s,l,a):o(t,c)}function r(t,c,a){try{const s=c.dataset.modulo||c.textContent.trim().toLowerCase();if(y.cargaModulo(s),t.forEach(l=>l.classList.remove("selected")),c.classList.add("selected"),a){const l=document.querySelector(".menu ul.menu-Principal");l&&l.querySelectorAll("li").forEach(g=>{g.classList.remove("selected"),(g.dataset.modulo||g.textContent.trim().toLowerCase())===s&&g.classList.add("selected")}),m()}}catch(s){alert(s)}}function o(t,c){if(m()==="cerrado")return;const a=document.createElement("ul");a.className="menu-flotante fadeInDown",c.querySelectorAll("li").forEach(l=>{a.appendChild(l.cloneNode(!0))}),t.target.insertAdjacentElement("afterend",a)}function m(){const t=document.querySelector(".menu-flotante");return t?(t.classList.remove("fadeInDown"),t.classList.add("fadeInUp-Menu"),setTimeout(()=>{t.remove()},750),"cerrado"):"continua"}return{menuActivo:u}})();document.addEventListener("DOMContentLoaded",()=>{y.cargaModulo("inicio"),document.getElementById("header").addEventListener("click",A.menuActivo)});
