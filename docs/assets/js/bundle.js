function E(c){c._listenerAgregado||(c._listenerAgregado=!0,c.addEventListener("keydown",function(s){if(s.key==="Enter"){s.preventDefault();const i=c.querySelectorAll("p"),a=i[i.length-1],l=a.id,e=a.textContent;if(e){const n=e.replace(/^root@Antonio_Segura:~#\s*/,"");h.lexico(n,l,s)}}}))}const h=(()=>{const c=["ls","cd","cls","clear","dir","contacto","proyectos","experiencia","--help"];function s(n,r=""){let o=a(n);r!==""&&l(o,r)}function i(n){const r=document.getElementById(n),o=document.createRange(),t=window.getSelection();o.selectNodeContents(r),o.collapse(!1),t.removeAllRanges(),t.addRange(o)}function a(n,r=""){let o="";var t="";let d="afterend";if(r===""){if(t=document.getElementById(n),!t)return;t.classList.remove("prompt");const[f,g]=n.split("-"),p=parseInt(g)+1;o=`${f}-${p}`}else t=r.target,o="comand-0",d="afterbegin";const u=document.createElement("p");return u.className="prompt",u.id=o,u.textContent="root@Antonio_Segura:~# ",t.insertAdjacentElement(d,u),i(o),o}function l(n,r){const o=document.getElementById(n),t=document.createElement("span");t.textContent=`'${r}' no es un comando válido`,o.insertAdjacentElement("beforebegin",t)}function e(n,r,o){const t=n.trim().split(/\s+/);for(let d=0;d<t.length;d++)if(!c.includes(t[d])){s(r,t[d]);return}s(r)}return{lexico:e}})();window.agregarEventosInput=E;const m=(()=>{const c=["inicio","section","footer","muestra_consola"],s={inicio:"./pages/inicio.html",header:"./pages/header.html",consola:"./pages/consola.html",contacto:"./pages/contacto.html",proyectos:"./pages/proyectos.html",habilidades:"./pages/habilidades.html",sobre_mi:"./pages/sobre_mi.html",experiencia:"./pages/experiencia.html"};function i(a,l="section"){if(!c.includes(l))throw console.error(`El ID '${l}' no está permitido.`),new Error(`El ID '${l}' no está permitido.`);if(!s[a])throw console.error(`El módulo '${a}' no está permitido.`),new Error(`El módulo '${a}' no está permitido.`);fetch(s[a]).then(e=>{if(!e.ok)throw new Error(`Error HTTP: ${e.status}`);return e.text()}).then(e=>{const n=document.getElementById(l);n.innerHTML=e;const r=new CustomEvent("moduloCargado",{detail:{modulo:a,idperm:l}});if(n.dispatchEvent(r),a==="inicio"){const o=document.getElementById("I_AM");o&&(window.innerWidth>=900&&(o.style.height=`${window.innerHeight-54}px`),y())}}).catch(e=>{throw console.error("Error al cargar el módulo:",e),e})}return{cargaModulo:i}})();function y(c="muestra_consola"){m.cargaModulo("consola",c);const s=document.getElementById(c);s.addEventListener("moduloCargado",function(i){if(i.detail.modulo==="consola"&&!s.querySelector(".consola_content")){console.log("consola no cargada ");return}},{once:!0})}const I=(()=>{function c(e){const n=e.currentTarget.querySelectorAll("ul"),o=[".menu ul.menu-Principal",".menu ul.menu-flotante"][n.length-1],t=e.currentTarget.querySelector(o);t&&s(e,t,n.length-1==1)}function s(e,n,r=!1){const o=n.querySelectorAll("li"),t=e.target.closest("li");t&&n.contains(t)?i(o,t,r):a(e,n)}function i(e,n,r){try{const o=n.dataset.modulo||n.textContent.trim().toLowerCase();if(m.cargaModulo(o),e.forEach(t=>t.classList.remove("selected")),n.classList.add("selected"),r){const t=document.querySelector(".menu ul.menu-Principal");t&&t.querySelectorAll("li").forEach(u=>{u.classList.remove("selected"),(u.dataset.modulo||u.textContent.trim().toLowerCase())===o&&u.classList.add("selected")}),l()}}catch(o){alert(o)}}function a(e,n){if(l()==="cerrado")return;const r=document.createElement("ul");r.className="menu-flotante fadeInDown",n.querySelectorAll("li").forEach(t=>{r.appendChild(t.cloneNode(!0))}),e.target.insertAdjacentElement("afterend",r)}function l(){const e=document.querySelector(".menu-flotante");return e?(e.classList.remove("fadeInDown"),e.classList.add("fadeInUp-Menu"),setTimeout(()=>{e.remove()},750),"cerrado"):"continua"}return{menuActivo:c}})();document.addEventListener("DOMContentLoaded",()=>{m.cargaModulo("inicio"),document.getElementById("header").addEventListener("click",I.menuActivo)});
